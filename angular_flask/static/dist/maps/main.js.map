{"version":3,"sources":["angular_flask/static/src/js/app.js","angular_flask/static/src/js/controllers.js","angular_flask/static/src/js/directives.js","angular_flask/static/src/js/filters.js","angular_flask/static/src/js/services.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["'use strict';\n\nangular.module('AngularFlask', ['ngRoute', 'ngResource', 'ngMaterial', 'ngAnimate', 'textAngular', 'ngSanitize', 'ngMessages', 'ngPassword'])\n    .config(['$routeProvider', '$locationProvider', '$mdThemingProvider',\n        function ($routeProvider, $locationProvider, $mdThemingProvider) {\n            $routeProvider\n                .when('/', {\n                    templateUrl: 'static/partials/landing.html',\n                })\n                .when('/about', {\n                    templateUrl: 'static/partials/about.html',\n                })\n\n                .when('/posts', {\n                    templateUrl: 'static/partials/post-list.html',\n\n                })\n                .when('/new', {\n                    templateUrl: 'static/partials/new_post.html',\n                })\n                .when('/posts/:id', {\n                    templateUrl: '/static/partials/post-detail.html',\n                })\n                .when('/blog', {\n                    templateUrl: 'static/partials/post-list.html',\n                })\n                .when('/register', {\n                    templateUrl: 'static/partials/register.html',\n                })\n                .otherwise({\n                    redirectTo: '/'\n                });\n\n            //Customize themes for Angular Material\n            $mdThemingProvider.theme('default')\n                .primaryPalette('blue-grey')\n                .accentPalette('orange')\n                .backgroundPalette('grey');\n\n            $locationProvider.html5Mode(true);\n\n\n        }]).config(function ($provide) {\n\n    $provide.decorator('taOptions', ['taRegisterTool', '$delegate', function (taRegisterTool, taOptions) {\n        taRegisterTool('uploadImage', {\n            buttontext: 'Upload Image',\n            iconclass: \"fa fa-image\",\n            action: function () {\n                //angular.element('#uploadImage').click();\n                document.getElementById('uploadImage').click();\n            }\n        });\n        taOptions.toolbar[1].push('uploadImage');\n        return taOptions;\n    }]);\n})\n;","'use strict';\nangular.module('AngularFlask')\n\n    .controller('LatestController', ['$scope', 'allPosts', function ($scope, allPosts) {\n        $scope.posts = [];\n        $scope.showPost = false;\n        $scope.message = \"Loading ...\";\n        allPosts.getPosts().get()\n            .$promise.then(function (response) {\n                $scope.posts = response.posts;\n            if ($scope.posts.length > 5){\n               $scope.posts.sort(function (a, b) {\n                    return a.date > b.date ? -1 : a.date === b.date ? 0 : 1;\n                });\n                $scope.posts.length = 5;\n            }\n                $scope.showPost = true;\n            },\n            function (response) {\n                $scope.message = \"Error: \" + response.status + \" \" + response.statusText;\n            });\n    }])\n    .controller('PostListController', ['$scope', 'allPosts', function ($scope, allPosts) {\n        $scope.posts = [];\n        $scope.showPost = false;\n        $scope.message = \"Loading ...\";\n        allPosts.getPosts().get()\n            .$promise.then(function (response) {\n                $scope.posts = response.posts;\n                $scope.showPost = true;\n\n                buildGridModel($scope.posts);\n            },\n            function (response) {\n                $scope.message = \"Error: \" + response.status + \" \" + response.statusText;\n            });\n\n        function buildGridModel(posts) {\n            var it, results = [];\n            for (var j = 0; j < posts.length; j++) {\n                it = posts[j];\n                it.span = {row: 1, col: 1};\n                it.img = 'img-sm';\n                it.para = 'para-sm';\n                switch (j + 1) {\n                    case 1:\n                        it.span.row = it.span.col = 2;\n                        it.img = 'img-lg';\n                        it.para = 'para-lg';\n                        break;\n                    case 4:\n                        it.span.col = 2;\n                        break;\n                    case 5:\n                        it.span.row = it.span.col = 2;\n                        it.img = 'img-lg';\n                        it.para = 'para-lg';\n                        break;\n                }\n                results.push(it);\n            }\n\n            return posts;\n        }\n\n    }])\n    .controller('NewPostController', ['$scope', 'fileUpload', '$location', function ($scope, fileUpload, $location) {\n\n        /*$scope.createPost = function () {\n         console.log('The form data is:', $scope.post)\n         var post = new newPost($scope.post);\n         post.$save();\n         }*/\n        $scope.createPost = function () {\n            var file = $scope.myFile;\n            //console.log('logging scope', $scope.htmlVariable);\n            fileUpload.newPost(file, $scope.post, $scope.htmlVariable);\n            $location.path('/');\n        };\n\n    }])\n    .controller('PostDetailController', ['$scope', 'allPosts', '$routeParams', function ($scope, allPosts, $routeParams) {\n        console.log($routeParams.id)\n        $scope.post = {};\n        allPosts.getPosts().get({id: parseInt($routeParams.id, 10)})\n            .$promise.then(function (response) {\n                //console.log('response is: ', response)\n                $scope.post = response.post;\n                $scope.showPost = true;\n            },\n            function (response) {\n                $scope.message = \"Error: \" + response.status + \" \" + response.statusText;\n            });\n    }])\n    .controller('UserController', ['$scope', 'createUser', function ($scope, createUser) {\n        $scope.hasAccount = false;\n        $scope.changeForm = function () {\n            $scope.hasAccount = !$scope.hasAccount;\n        };\n        $scope.user = {\n            username: \"\",\n            email: \"\",\n            password: \"\"\n        };\n        $scope.register = function () {\n            var user = $scope.user;\n            user.confirmPassword = '';\n            createUser.newUser(user)\n                .then(function success(response) {\n                    console.log('user created', response);\n                }, function error(response) {\n                    console.log('failed to create user', response);\n                });\n        }\n    }])\n","angular.module('AngularFlask')\n    .directive('fileModel', ['$parse', function ($parse) {\n        return {\n            restrict: 'A',\n            link: function (scope, element, attrs) {\n                var model = $parse(attrs.fileModel);\n                var modelSetter = model.assign;\n\n                element.bind('change', function () {\n                    scope.$apply(function () {\n                        modelSetter(scope, element[0].files[0]);\n                    });\n                });\n            }\n        };\n    }]);","'use strict';\n\n/* Filters */\n\nangular.module('angularFlaskFilters', []).filter('uppercase', function () {\n    return function (input) {\n        return input.toUpperCase();\n    }\n});","'use strict';\n\nangular.module('AngularFlask')\n    .constant(\"baseURL\", \"http://0.0.0.0:5000\")\n    .service('allPosts', ['$resource', 'baseURL', function ($resource, baseURL) {\n        this.getPosts = function () {\n            return $resource(baseURL + '/blog/api/posts/:id', {}, {\n                query: {\n                    method: 'GET',\n                    isArray: true\n                }\n            });\n        }\n    }])\n    /* .service('postDetail', ['$resource', 'baseURL', function ($resource, baseURL) {\n     return $resource(baseURL + \"/blog/api/posts/new\", {});\n     }])*/\n    .service('fileUpload', ['$http', function ($http) {\n        this.newPost = function (file, data1, data2) {\n            var fd = new FormData();\n            fd.append('file', file);\n            fd.append(\"content\", JSON.stringify(data1));\n            fd.append(\"content2\", JSON.stringify(data2));\n            $http.post(\"http://0.0.0.0:5000\" + \"/blog/api/posts/new\", fd, {\n                    transformRequest: angular.identity,\n                    headers: {'Content-Type': undefined}\n                })\n                .success(function () {\n                    console.log('File saved');\n                })\n                .error(function (data) {\n                    console.log('Error, did not save', data);\n                });\n        }\n    }])\n    .service('createUser', ['$http', function ($http) {\n        this.newUser = function (user) {\n            return $http.post(\"http://0.0.0.0:5000\" + \"/blog/api/users\", user);\n        }\n    }])\n;\n\n\n"],"sourceRoot":"/source/"}